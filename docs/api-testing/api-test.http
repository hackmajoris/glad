
###############################################################################
### 1. USER AUTHENTICATION
###############################################################################



### 1.1 Register User - John Doe
POST {{API_URL}}/register
Content-Type: application/json

{
  "username": "john_doe",
  "name": "John Doe",
  "password": "secure123"
}

### 1.2 Register User - Jane Doe
POST {{API_URL}}/register
Content-Type: application/json

{
  "username": "jane_doe",
  "name": "Jane Doe",
  "password": "secure123"
}

### 1.3 Register User - Alice
POST {{API_URL}}/register
Content-Type: application/json

{
  "username": "alice",
  "name": "Alice Smith",
  "password": "pass123"
}

### 1.4 Register User - Bob
POST {{API_URL}}/register
Content-Type: application/json

{
  "username": "bob",
  "name": "Bob Johnson",
  "password": "pass123"
}

### 1.5 Login - John Doe
# @name login
POST {{API_URL}}/login
Content-Type: application/json

{
  "username": "john_doe",
  "password": "secure123"
}

> {%
    client.global.set("token", response.body.access_token);
    client.log("Token saved: " + response.body.access_token);
%}

### 1.6 Login - Jane Doe
POST {{API_URL}}/login
Content-Type: application/json

{
  "username": "jane_doe",
  "password": "secure123"
}

### 1.7 Login - Alice
POST {{API_URL}}/login
Content-Type: application/json

{
  "username": "alice",
  "password": "pass123"
}

### 1.8 Login - Bob
POST {{API_URL}}/login
Content-Type: application/json

{
  "username": "bob",
  "password": "pass123"
}

###############################################################################
### 2. USER MANAGEMENT (Protected Routes)
###############################################################################

### 2.1 Get Current User
GET {{API_URL}}/me
Authorization: Bearer {{token}}

### 2.2 Update User Profile - Name Only
PUT {{API_URL}}/user
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "name": "John Smith"
}

### 2.3 Update User Profile - Password Only
PUT {{API_URL}}/user
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "password": "newPassword123"
}

### 2.4 Update User Profile - Both Name and Password
PUT {{API_URL}}/user
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "name": "John Updated",
  "password": "newSecure456"
}

### 2.5 List All Users
GET {{API_URL}}/users
Authorization: Bearer {{token}}

### 2.6 Test Protected Route
GET {{API_URL}}/protected
Authorization: Bearer {{token}}

###############################################################################
### 3. MASTER SKILLS MANAGEMENT (Protected Routes)
###############################################################################

### 3.1 Create Master Skill - Python
POST {{API_URL}}/master-skills
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "skill_id": "python",
  "skill_name": "Python",
  "description": "Python programming language",
  "category": "Programming",
  "tags": ["backend", "scripting", "data-science"]
}

### 3.2 Create Master Skill - JavaScript
POST {{API_URL}}/master-skills
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "skill_id": "javascript",
  "skill_name": "JavaScript",
  "description": "JavaScript programming language",
  "category": "Programming",
  "tags": ["frontend", "backend", "nodejs"]
}

### 3.3 Create Master Skill - Go
POST {{API_URL}}/master-skills
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "skill_id": "golang",
  "skill_name": "Go",
  "description": "Go programming language",
  "category": "Programming",
  "tags": ["backend", "systems", "concurrent"]
}

### 3.4 Create Master Skill - AWS
POST {{API_URL}}/master-skills
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "skill_id": "aws",
  "skill_name": "Amazon Web Services",
  "description": "Cloud computing platform",
  "category": "Cloud",
  "tags": ["cloud", "infrastructure", "devops"]
}

### 3.5 Create Master Skill - Docker
POST {{API_URL}}/master-skills
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "skill_id": "docker",
  "skill_name": "Docker",
  "description": "Container platform",
  "category": "DevOps",
  "tags": ["containers", "devops", "deployment"]
}

### 3.6 Create Master Skill - Kubernetes
POST {{API_URL}}/master-skills
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "skill_id": "kubernetes",
  "skill_name": "Kubernetes",
  "description": "Container orchestration platform",
  "category": "DevOps",
  "tags": ["containers", "orchestration", "cloud-native"]
}

### 3.7 Create Master Skill - React
POST {{API_URL}}/master-skills
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "skill_id": "react",
  "skill_name": "React",
  "description": "JavaScript library for building user interfaces",
  "category": "Frontend",
  "tags": ["frontend", "javascript", "ui"]
}

### 3.8 Get Master Skill - Python
GET {{API_URL}}/master-skills/python
Authorization: Bearer {{token}}

### 3.9 Get Master Skill - JavaScript
GET {{API_URL}}/master-skills/javascript
Authorization: Bearer {{token}}

### 3.10 List All Master Skills
GET {{API_URL}}/master-skills
Authorization: Bearer {{token}}

### 3.11 Update Master Skill - Python
PUT {{API_URL}}/master-skills/python
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "skill_name": "Python 3",
  "description": "Python 3 programming language - modern version",
  "tags": ["backend", "scripting", "data-science", "ai", "machine-learning"]
}

### 3.12 Update Master Skill - JavaScript (partial update)
PUT {{API_URL}}/master-skills/javascript
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "description": "JavaScript - The language of the web"
}

### 3.13 Delete Master Skill - React (if needed for testing)
DELETE {{API_URL}}/master-skills/react
Authorization: Bearer {{token}}

###############################################################################
### 4. USER SKILLS MANAGEMENT (Protected Routes)
###############################################################################

### 4.1 Add Skill to User - John Doe - Python (Advanced)
POST {{API_URL}}/users/john_doe/skills
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "skill_name": "Python",
  "proficiency_level": "Advanced",
  "years_of_experience": 5,
  "notes": "Used for backend development and data analysis"
}

### 4.2 Add Skill to User - John Doe - JavaScript (Expert)
POST {{API_URL}}/users/john_doe/skills
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "skill_name": "JavaScript",
  "proficiency_level": "Expert",
  "years_of_experience": 7,
  "notes": "Full-stack JavaScript development"
}

### 4.3 Add Skill to User - John Doe - AWS (Intermediate)
POST {{API_URL}}/users/john_doe/skills
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "skill_name": "Amazon Web Services",
  "proficiency_level": "Intermediate",
  "years_of_experience": 3,
  "notes": "Lambda, DynamoDB, API Gateway"
}

### 4.4 Add Skill to User - John Doe - Docker (Beginner)
POST {{API_URL}}/users/john_doe/skills
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "skill_name": "Docker",
  "proficiency_level": "Beginner",
  "years_of_experience": 1
}

### 4.5 Add Skill to User - Jane Doe - Python (Intermediate)
POST {{API_URL}}/users/jane_doe/skills
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "skill_name": "Python",
  "proficiency_level": "Intermediate",
  "years_of_experience": 3,
  "notes": "Data science and automation"
}

### 4.6 Add Skill to User - Jane Doe - JavaScript (Advanced)
POST {{API_URL}}/users/jane_doe/skills
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "skill_name": "JavaScripdt",
  "proficiency_level": "Advanced",
  "years_of_experience": 5,
  "notes": "Frontend development with React"
}

### 4.7 Add Skill to User - Alice - Go (Expert)
POST {{API_URL}}/users/alice/skills
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "skill_name": "Go",
  "proficiency_level": "Expert",
  "years_of_experience": 6,
  "notes": "Microservices and backend systems"
}

### 4.8 Add Skill to User - Bob - Go (Intermediate)
POST {{API_URL}}/users/bob/skills
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "skill_name": "Go",
  "proficiency_level": "Intermediate",
  "years_of_experience": 2,
  "notes": "Learning backend development"
}

### 4.9 Get Specific User Skill - John Doe - Python
GET {{API_URL}}/users/john_doe/skills/Python
Authorization: Bearer {{token}}

### 4.10 Get Specific User Skill - John Doe - JavaScript
GET {{API_URL}}/users/john_doe/skills/JavaScript
Authorization: Bearer {{token}}

### 4.11 List All Skills for User - John Doe
GET {{API_URL}}/users/john_doe/skills
Authorization: Bearer {{token}}

### 4.12 List All Skills for User - Jane Doe
GET {{API_URL}}/users/jane_doe/skills
Authorization: Bearer {{token}}

### 4.13 Update User Skill - John Doe - Python (to Expert)
PUT {{API_URL}}/users/john_doe/skills/Python
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "proficiency_level": "Expert",
  "years_of_experience": 6,
  "notes": "Updated: Now leading Python development team"
}

### 4.14 Update User Skill - John Doe - JavaScript (only years)
PUT {{API_URL}}/users/john_doe/skills/JavaScript
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "years_of_experience": 8
}

### 4.15 Update User Skill - Jane Doe - Python (only proficiency)
PUT {{API_URL}}/users/jane_doe/skills/Python
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "proficiency_level": "Advanced"
}

### 4.16 Update User Skill - John Doe - AWS (only notes)
PUT {{API_URL}}/users/john_doe/skills/Amazon Web Services
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "notes": "Now working with ECS, EKS, and CloudFormation"
}

### 4.17 Delete User Skill - John Doe - Docker
DELETE {{API_URL}}/users/john_doe/skills/Docker
Authorization: Bearer {{token}}

###############################################################################
### 5. CROSS-USER SKILL QUERIES (Protected Routes)
###############################################################################

### 5.1 Find All Users with Python
GET {{API_URL}}/skills/Python/users
Authorization: Bearer {{token}}

### 5.2 Find All Users with JavaScript
GET {{API_URL}}/skills/JavaScript/users
Authorization: Bearer {{token}}

### 5.3 Find All Users with Go
GET {{API_URL}}/skills/Go/users
Authorization: Bearer {{token}}

### 5.4 Find Expert Python Developers
GET {{API_URL}}/skills/Python/users?level=Expert
Authorization: Bearer {{token}}

### 5.5 Find Intermediate Python Developers
GET {{API_URL}}/skills/Python/users?level=Intermediate
Authorization: Bearer {{token}}

### 5.6 Find Advanced Python Developers
GET {{API_URL}}/skills/Python/users?level=Advanced
Authorization: Bearer {{token}}

### 5.7 Find Beginner Python Developers
GET {{API_URL}}/skills/Python/users?level=Beginner
Authorization: Bearer {{token}}

### 5.8 Find Expert JavaScript Developers
GET {{API_URL}}/skills/JavaScript/users?level=Expert
Authorization: Bearer {{token}}

### 5.9 Find Advanced JavaScript Developers
GET {{API_URL}}/skills/JavaScript/users?level=Advanced
Authorization: Bearer {{token}}

### 5.10 Find Expert Go Developers
GET {{API_URL}}/skills/Go/users?level=Expert
Authorization: Bearer {{token}}

### 5.11 Find Intermediate Go Developers
GET {{API_URL}}/skills/Go/users?level=Intermediate
Authorization: Bearer {{token}}

###############################################################################
### 6. ERROR CASES
###############################################################################

### 6.1 Unauthorized Access - No Token
GET {{API_URL}}/me

### 6.2 Unauthorized Access - Invalid Token
GET {{API_URL}}/me
Authorization: Bearer invalid_token_here

### 6.3 User Already Exists
POST {{API_URL}}/register
Content-Type: application/json

{
  "username": "john_doe",
  "name": "John Duplicate",
  "password": "password123"
}

### 6.4 Invalid Login Credentials
POST {{API_URL}}/login
Content-Type: application/json

{
  "username": "john_doe",
  "password": "wrongpassword"
}

### 6.5 Skill Not Found
GET {{API_URL}}/users/john_doe/skills/NonExistentSkill
Authorization: Bearer {{token}}

### 6.6 Master Skill Already Exists
POST {{API_URL}}/master-skills
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "skill_id": "python",
  "skill_name": "Python Duplicate",
  "description": "Duplicate skill",
  "category": "Programming"
}

### 6.7 Invalid Proficiency Level
POST {{API_URL}}/users/john_doe/skills
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "skill_name": "Python",
  "proficiency_level": "SuperExpert",
  "years_of_experience": 5
}

### 6.8 Master Skill Not Found
GET {{API_URL}}/master-skills/nonexistent
Authorization: Bearer {{token}}

### 6.9 Delete Master Skill Not Found
DELETE {{API_URL}}/master-skills/nonexistent
Authorization: Bearer {{token}}

### 6.10 Update Master Skill Not Found
PUT {{API_URL}}/master-skills/nonexistent
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "skill_name": "Updated Name"
}

### 6.11 User Not Found - Get Skills
GET {{API_URL}}/users/nonexistent_user/skills
Authorization: Bearer {{token}}

### 6.12 Invalid Request Body - Missing Required Fields
POST {{API_URL}}/register
Content-Type: application/json

{
  "username": "test"
}

### 6.13 Invalid Request Body - Invalid JSON
POST {{API_URL}}/register
Content-Type: application/json

{
  "username": "test",
  "name": "Test User",
  "password": "test123"
}

###############################################################################
### 7. VALIDATION TESTS
###############################################################################

### 7.1 Register - Username Too Short
POST {{API_URL}}/register
Content-Type: application/json

{
  "username": "ab",
  "name": "Test User",
  "password": "secure123"
}

### 7.2 Register - Password Too Short
POST {{API_URL}}/register
Content-Type: application/json

{
  "username": "testuser",
  "name": "Test User",
  "password": "123"
}

### 7.3 Register - Name Too Short
POST {{API_URL}}/register
Content-Type: application/json

{
  "username": "testuser",
  "name": "T",
  "password": "secure123"
}

### 7.4 Add Skill - Negative Years of Experience
POST {{API_URL}}/users/john_doe/skills
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "skill_name": "Python",
  "proficiency_level": "Expert",
  "years_of_experience": -5
}

### 7.5 Create Master Skill - Missing Required Field (skill_id)
POST {{API_URL}}/master-skills
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "skill_name": "Ruby",
  "description": "Ruby programming language",
  "category": "Programming"
}

### 7.6 Create Master Skill - Missing Required Field (category)
POST {{API_URL}}/master-skills
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "skill_id": "ruby",
  "skill_name": "Ruby",
  "description": "Ruby programming language"
}

###############################################################################
### 8. COMPLETE WORKFLOW TEST
###############################################################################

### 8.1 WORKFLOW Step 1 - Register New User
POST {{API_URL}}/register
Content-Type: application/json

{
  "username": "workflow_user",
  "name": "Workflow Test User",
  "password": "workflow123"
}

### 8.2 WORKFLOW Step 2 - Login
POST {{API_URL}}/login
Content-Type: application/json

{
  "username": "workflow_user",
  "password": "workflow123"
}

> {%
    client.global.set("token", response.body.access_token);
    client.log("Token saved: " + response.body.access_token);
%}


### 8.3 WORKFLOW Step 3 - Get Current User
GET {{API_URL}}/me
Authorization: Bearer {{token}}

### 8.4 WORKFLOW Step 4 - Create Master Skill
POST {{API_URL}}/master-skills
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "skill_id": "rust",
  "skill_name": "Rust",
  "description": "Systems programming language",
  "category": "Programming",
  "tags": ["systems", "performance", "safety"]
}

### 8.5 WORKFLOW Step 5 - Add Skill to User
POST {{API_URL}}/users/workflow_user/skills
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "skill_name": "Rust",
  "proficiency_level": "Beginner",
  "years_of_experience": 1,
  "notes": "Learning systems programming"
}

### 8.6 WORKFLOW Step 6 - Get User's Skills
GET {{API_URL}}/users/workflow_user/skills
Authorization: Bearer {{token}}

### 8.7 WORKFLOW Step 7 - Update Skill
PUT {{API_URL}}/users/workflow_user/skills/Rust
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "proficiency_level": "Intermediate",
  "years_of_experience": 2,
  "notes": "Making good progress with Rust"
}

### 8.8 WORKFLOW Step 8 - Find All Rust Developers
GET {{API_URL}}/skills/Rust/users
Authorization: Bearer {{token}}

### 8.9 WORKFLOW Step 9 - Update User Profile
PUT {{API_URL}}/user
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "name": "Workflow User Updated"
}

### 8.10 WORKFLOW Step 10 - List All Users
GET {{API_URL}}/users
Authorization: Bearer {{token}}

### 8.11 WORKFLOW Step 11 - Delete Skill
DELETE {{API_URL}}/users/workflow_user/skills/Rust
Authorization: Bearer {{token}}

### 8.12 WORKFLOW Step 12 - Verify Skill Deleted
GET {{API_URL}}/users/workflow_user/skills
Authorization: Bearer {{token}}

###############################################################################
### 9. PERFORMANCE & STRESS TESTING (Run these individually)
###############################################################################

### 9.1 Create Multiple Master Skills - Skill 1
POST {{API_URL}}/master-skills
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "skill_id": "test_skill_1",
  "skill_name": "Test Skill 1",
  "description": "Performance test skill 1",
  "category": "Testing"
}

### 9.2 Create Multiple Master Skills - Skill 2
POST {{API_URL}}/master-skills
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "skill_id": "test_skill_2",
  "skill_name": "Test Skill 2",
  "description": "Performance test skill 2",
  "category": "Testing"
}

### 9.3 Create Multiple Master Skills - Skill 3
POST {{API_URL}}/master-skills
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "skill_id": "test_skill_3",
  "skill_name": "Test Skill 3",
  "description": "Performance test skill 3",
  "category": "Testing"
}

###############################################################################
### 10. CLEANUP OPERATIONS
###############################################################################

### 10.1 Delete Test Skills - Skill 1
DELETE {{API_URL}}/master-skills/test_skill_1
Authorization: Bearer {{token}}

### 10.2 Delete Test Skills - Skill 2
DELETE {{API_URL}}/master-skills/test_skill_2
Authorization: Bearer {{token}}

### 10.3 Delete Test Skills - Skill 3
DELETE {{API_URL}}/master-skills/test_skill_3
Authorization: Bearer {{token}}

### 10.4 Delete Rust Master Skill
DELETE {{API_URL}}/master-skills/rust
Authorization: Bearer {{token}}

###############################################################################
### NOTES
###############################################################################
# 1. Valid Proficiency Levels: Beginner, Intermediate, Advanced, Expert
# 2. After running login request, token is automatically saved to {{token}}
# 3. Update @API_URL at the top for your environment
# 4. Use URL encoding for skill names with spaces (e.g., Amazon%20Web%20Services)
# 5. All routes except /register and /login require authentication
# 6. Use http-client.env.json for environment-specific variables

###############################################################################
### ENVIRONMENT SETUP (Create http-client.env.json)
###############################################################################
# Create a file named http-client.env.json in the same directory:
# {
#   "dev": {
#     "API_URL": "http://localhost:3000"
#   },
#   "staging": {
#     "API_URL": "https://staging-api.example.com"
#   },
#   "production": {
#     "API_URL": "https://api.example.com"
#   }
# }